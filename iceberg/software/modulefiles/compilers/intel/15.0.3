#%Module1.0#####################################################################
##
## Intel Compilers version 15 module file
## 
################################################################################

## Module file logging
source /usr/local/etc/module_logging.tcl
##

proc ModulesHelp { } {
        global version

        puts stderr "	Makes `Intel Compilers-$version' available for use"
}

module-whatis   "Makes Intel Compiler (ifort and icc) and debuger (idb) available"

conflict compilers/intel

# module variables
#
set     version 15.0.3
set     intelroot    /usr/local/packages6/compilers/intel/2015/composer_xe_2015.3.187
 
# load java  ( needed with debugging etc. ) 
module load apps/java

setenv     MKLROOT   $intelroot/mkl
prepend-path MANPATH $intelroot/man/en_US:$intelroot/debugger/gdb/intel64/share/man/:$intelroot/debugger/gdb/intel64_mic/share/man/
setenv     INTEL_LICENSE_FILE /usr/local/packages6/compilers/intel/license.lic
setenv     GDB_HOST $intelroot/debugger/gdb/intel64_mic/bin/gdb-ia-mic
setenv     IPPROOT   $intelroot/ipp
setenv     GDBSERVER_MIC  $intelroot/debugger/gdb/target/mic/bin/gdbserver
prepend-path LIBRARY_PATH $intelroot/compiler/lib/intel64:$intelroot/ipp/../compiler/lib/intel64:$intelroot/ipp/lib/intel64:$intelroot/compiler/lib/intel64:$intelroot/mkl/lib/intel64:$intelroot/tbb/lib/intel64/gcc4.4
setenv  MIC_LD_LIBRARY_PATH $intelroot/compiler/lib/mic:$intelroot/mpirt/lib/mic:$intelroot/compiler/lib/mic:$intelroot/mkl/lib/mic:$intelroot/tbb/lib/mic
prepend-path LD_LIBRARY_PATH $intelroot/compiler/lib/intel64:$intelroot/mpirt/lib/intel64:$intelroot/ipp/../compiler/lib/intel64:$intelroot/ipp/lib/intel64:$intelroot/ipp/tools/intel64/perfsys:$intelroot/compiler/lib/intel64:$intelroot/mkl/lib/intel64:$intelroot/tbb/lib/intel64/gcc4.4:$intelroot/debugger/libipt/intel64/lib
setenv MIC_LIBRARY_PATH $intelroot/compiler/lib/mic:$intelroot/mpirt/lib/mic:$intelroot/tbb/lib/mic
prepend-path CPATH $intelroot/ipp/include:$intelroot/mkl/include:$intelroot/tbb/include
setenv NLSPATH $intelroot/compiler/lib/intel64/locale/%l_%t/%N:$intelroot/ipp/lib/intel64/locale/%l_%t/%N:$intelroot/mkl/lib/intel64/locale/%l_%t/%N:$intelroot/debugger/gdb/intel64_mic/share/locale/%l_%t/%N:$intelroot/debugger/gdb/intel64/share/locale/%l_%t/%N
prepend-path PATH $intelroot/bin/intel64:$intelroot/debugger/gdb/intel64_mic/bin

setenv GDB_CROSS $intelroot/debugger/gdb/intel64_mic/bin/gdb-mic
setenv MPM_LAUNCHER $intelroot/debugger/mpm/bin/start_mpm.sh
setenv INTEL_PYTHONHOME $intelroot/debugger/python/intel64/
prepend-path INFOPATH $intelroot/debugger/gdb/intel64/share/info/:$intelroot/debugger/gdb/intel64_mic/share/info/
setenv TBBROOT   $intelroot/tbb

set     cc              icc
set     cxx             icpc
set     f77             ifort
set     f90             ifort
set     f95             ifort
set     fc              ifort
setenv          CC              $cc
setenv          CXX             $cxx
setenv          F77             $f77
setenv          FC              $fc
setenv          F90             $f90
setenv          F95             $f95
